<!-- static/src/xml/web_widget_image_webcam.xml -->
<odoo>
    <template id="assets_frontend" name="webcam widget" inherit_id="web.assets_frontend">
        <xpath expr="." position="inside">
            <script type="text/javascript">
                odoo.define('marketing_eyetracking.web_widget_image_webcam', function (require) {
                    var FieldChar = require('web.basic_fields').FieldChar;
                    var core = require('web.core');
                    var QWeb = core.qweb;

                    var FieldWebcam = FieldChar.extend({
                        template: 'web_widget_image_webcam',
                        events: {
                            'click .open-webcam': '_onOpenWebcam',
                        },

                        _onOpenWebcam: function () {
                            // Abre el di√°logo para capturar la imagen
                            this.trigger_up('open_webcam_dialog');
                        },
                    });

                    return {
                        FieldWebcam: FieldWebcam
                    };
                });
            </script>
        </xpath>
    </template>
</odoo>
